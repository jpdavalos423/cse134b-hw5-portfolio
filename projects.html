<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JP Davalos - Projects</title>
    <link rel="stylesheet" href="styles/main.css" />
  </head>

  <body>
    <header>
      <nav>
        <ul>
          <li><a href="./index.html">Home</a></li>
          <li><a href="./about.html">About</a></li>
          <li>
            <u><a href="./projects.html">Projects</a></u>
          </li>
          <li>
            <label for="contact-toggle" class="navbar-contact-link"
              >Contact</label
            >
          </li>
        </ul>
      </nav>
    </header>

    <main>
      <article>
        <h2>My Work</h2>


        <project-card
        detail-url="pokecollect.html"
        title="PokeCollect"
        description="A Pokemon card collection tracker that allows users to manage their collection, view card details, and view market prices. Developed as a team using Agile principles and integrates with the Pokemon TCG API.
        "
        live-url="https://cse110-sp25-group20.github.io/cse110-sp25-group20/"
        repo-url="https://github.com/cse110-sp25-group20/Repo-of-Truth"
        details="Integrated Pokemon TCG API for real-time card data; Implemented collection management features with local storage; Developed responsive UI with modern design principles; Used Agile methodology for team collaboration; Built with vanilla JavaScript and HTML/CSS"
      >
        <picture slot="project-image">
          <source
            srcset="
              assets/pokecollect-preview-400w.webp 400w,
              assets/pokecollect-preview-800w.webp 800w
            "
            sizes="(max-width: 640px) 400px, (max-width: 968px) 600px, 500px"
            type="image/webp"
          />
          <source
            srcset="
              assets/pokecollect-preview-400w.jpg 400w,
              assets/pokecollect-preview-800w.jpg 800w
            "
            sizes="(max-width: 640px) 400px, (max-width: 968px) 600px, 500px"
            type="image/jpeg"
          />
          <img
            src="assets/pokecollect-preview-800w.jpg"
            alt="A screenshot of the PokeCollect application dashboard."
          />
        </picture>
      </project-card>

      <project-card
        detail-url="dsa-visualizer.html"
        title="DSA Visualizer"
        description="Developing an interactive tool to help students learn data structures and algorithms through step-by-step visuals. Includes algorithms such as Bubble Sort and Merge Sort and includes various data structures.
"
        repo-url="https://github.com/jpdavalos423/sorting-algorithms"
        details="Implemented step-by-step visualization for sorting algorithms; Added interactive controls for algorithm execution; Created visual representations of data structures; Built with React and D3.js for dynamic rendering; Designed educational interface for learning"
      >
        <picture slot="project-image">
          <source
            srcset="
              assets/algorithm-preview-400w.webp 400w,
              assets/algorithm-preview-800w.webp 800w
            "
            sizes="(max-width: 640px) 400px, (max-width: 968px) 600px, 500px"
            type="image/webp"
          />
          <source
            srcset="
              assets/algorithm-preview-400w.jpg 400w,
              assets/algorithm-preview-800w.jpg 800w
            "
            sizes="(max-width: 640px) 400px, (max-width: 968px) 600px, 500px"
            type="image/jpeg"
          />
          <img
            src="assets/algorithm-preview-800w.jpg"
            alt="A screenshot of the DSA Visualizer sorting interface."
          />
        </picture>
      </project-card>

      <project-card
        detail-url="now-playing.html"
        title="Now Playing Display"
        description="Real time display of currently playing song specifically optimized to display on RaspberryPi. Uses Spotify API to fetch user information and handles authentication process.
"
        repo-url="https://github.com/jpdavalos423/spotify-now-playing"
        details="Integrated Spotify Web API for real-time playback data; Implemented OAuth authentication flow; Optimized for RaspberryPi display performance; Created responsive UI for small screens; Built with Python and Flask backend"
      >
        <picture slot="project-image">
          <source
            srcset="
              assets/spotify-preview-400w.webp 400w,
              assets/spotify-preview-800w.webp 800w
            "
            sizes="(max-width: 640px) 400px, (max-width: 968px) 600px, 500px"
            type="image/webp"
          />
          <source
            srcset="
              assets/spotify-preview-400w.jpg 400w,
              assets/spotify-preview-800w.jpg 800w
            "
            sizes="(max-width: 640px) 400px, (max-width: 968px) 600px, 500px"
            type="image/jpeg"
          />
          <img
            src="assets/spotify-preview-800w.jpg"
            alt="A photo of the Now Playing Display running on a RaspberryPi."
          />
        </picture>
      </project-card>

      </article>
    </main>

    <footer>
      <input type="checkbox" id="contact-toggle" class="contact-checkbox" />

      <dialog id="contactDialog">
        <form method="post" action="/send-message">
          <fieldset>
            <legend>Let's get in touch</legend>

            <label for="name">Name:</label>
            <input
              type="text"
              id="name"
              name="name"
              placeholder="Your name"
              required
            />

            <label for="email">Email:</label>
            <input
              type="email"
              id="email"
              name="email"
              placeholder="you@example.com"
              required
            />

            <label for="message">Message:</label>
            <textarea
              id="message"
              name="message"
              rows="5"
              placeholder="Write your message here..."
              required
            ></textarea>

            <div class="form-actions">
              <button type="submit">Send Message</button>
              <button type="button">Cancel</button>
            </div>
          </fieldset>
        </form>
      </dialog>
      <span>Copyright &copy; 2025 JP Davalos</span>
    </footer>

    <script>
      class ProjectCard extends HTMLElement {
        connectedCallback() {
          const pictureElement = this.querySelector('picture[slot="project-image"]');

          const detailUrl = this.getAttribute("detail-url");
          const title = this.getAttribute("title") || "Untitled Project";
          const description = this.getAttribute("description") || "";
          
          const liveUrl = this.getAttribute("live-url") || "#";
          const repoUrl = this.getAttribute("repo-url") || "#";
          const details = this.getAttribute("details") || "";

          // Parse details into bullet points (semicolon-separated)
          const detailsList = details
            ? details
                .split(";")
                .map((d) => d.trim())
                .filter((d) => d)
            : [];

          const detailsHTML =
            detailsList.length > 0
              ? `
                  <div class="project-details" onclick="if(event.target.tagName !== 'A' && !event.target.closest('a')) window.location.href='${detailUrl}'">
                    <ul class="details-list">
                      ${detailsList
                        .map((detail) => `<li>${detail}</li>`)
                        .join("")}
                    </ul>
                  </div>
                `
              : "";
          

          this.innerHTML = `
              <div class="project-card-main" onclick="if(event.target.tagName !== 'A' && !event.target.closest('a')) window.location.href='${detailUrl}'">
                
                <section class="project-content">
                  <h3>${title}</h3>
                  <p>${description}</p>
                  <div class="project-links">
                    <a href="${liveUrl}" aria-label="Link to live site">Live Site</a>
                    <a href="${repoUrl}" aria-label="Link to GitHub repo">GitHub Repo</a>
                  </div>
                </section>
              </div>
              ${detailsHTML}
          `;


          const mainCard = this.querySelector('.project-card-main');


          if (mainCard && pictureElement) {
            mainCard.prepend(pictureElement);
          }
        }
      }

      customElements.define("project-card", ProjectCard);
    </script>
  </body>
</html>
